/**
 * MDC
 * @copyright (c) 2020 Six
 * @license https://github.com/sixcious/shr/blob/main/LICENSE
 */
class MDC{static buttons;static checkboxes;static chips;static chipSets;static dataTables;static dialogs;static drawers;static fabs;static formFields;static linearProgresses;static lists;static radios;static selects;static snackbars;static switches;static tabBars;static textFields;static{MDC.init()}static init(e){e&&"buttons"!==e||(MDC.buttons=new Map([].map.call(document.querySelectorAll(".mdc-button"),(function(e){return[e.id,new mdc.ripple.MDCRipple(e)]})))),e&&"checkboxes"!==e||(MDC.checkboxes=new Map([].map.call(document.querySelectorAll(".mdc-checkbox"),(function(e){return[e.id,new mdc.checkbox.MDCCheckbox(e)]})))),e&&"chips"!==e||(MDC.chips=new Map([].map.call(document.querySelectorAll(".mdc-chip"),(function(e){return[e.id,new mdc.chips.MDCChip(e)]})))),e&&"chipSets"!==e||(MDC.chipSets=new Map([].map.call(document.querySelectorAll(".mdc-chip-set"),(function(e){return[e.id,new mdc.chips.MDCChipSet(e)]})))),e&&"dataTables"!==e||(MDC.dataTables=new Map([].map.call(document.querySelectorAll(".mdc-data-table"),(function(e){return[e.id,new mdc.dataTable.MDCDataTable(e)]})))),e&&"dialogs"!==e||(MDC.dialogs=new Map([].map.call(document.querySelectorAll(".mdc-dialog"),(function(e){return[e.id,new mdc.dialog.MDCDialog(e)]})))),e&&"drawers"!==e||(MDC.drawers=new Map([].map.call(document.querySelectorAll(".mdc-drawer"),(function(e){return[e.id,new mdc.drawer.MDCDrawer(e)]})))),e&&"fabs"!==e||(MDC.fabs=new Map([].map.call(document.querySelectorAll(".mdc-fab"),(function(e){return[e.id,new mdc.ripple.MDCRipple(e)]})))),e&&"formFields"!==e||(MDC.formFields=new Map([].map.call(document.querySelectorAll(".mdc-form-field"),(function(e){return[e.id,new mdc.formField.MDCFormField(e)]})))),e&&"linearProgresses"!==e||(MDC.linearProgresses=new Map([].map.call(document.querySelectorAll(".mdc-linear-progress"),(function(e){return[e.id,new mdc.linearProgress.MDCLinearProgress(e)]})))),e&&"lists"!==e||(MDC.lists=new Map([].map.call(document.querySelectorAll(".mdc-list"),(function(e){const t=new mdc.list.MDCList(e);return t.listElements.map((e=>new mdc.ripple.MDCRipple(e))),t.singleSelection=!0,[e.id,t]})))),e&&"radios"!==e||(MDC.radios=new Map([].map.call(document.querySelectorAll(".mdc-radio"),(function(e){return[e.id,new mdc.radio.MDCRadio(e)]})))),e&&"selects"!==e||(MDC.selects=new Map([].map.call(document.querySelectorAll(".mdc-select"),(function(e){return[e.id,new mdc.select.MDCSelect(e)]})))),e&&"snackbars"!==e||(MDC.snackbars=new Map([].map.call(document.querySelectorAll(".mdc-snackbar"),(function(e){return[e.id,new mdc.snackbar.MDCSnackbar(e)]})))),e&&"switches"!==e||(MDC.switches=new Map([].map.call(document.querySelectorAll(".mdc-switch"),(function(e){return[e.id,new mdc.switchControl.MDCSwitch(e)]})))),e&&"tabBars"!==e||(MDC.tabBars=new Map([].map.call(document.querySelectorAll(".mdc-tab-bar"),(function(e){return[e.id,new mdc.tabBar.MDCTabBar(e)]})))),e&&"textFields"!==e||(MDC.textFields=new Map([].map.call(document.querySelectorAll(".mdc-text-field"),(function(e){return[e.id,new mdc.textField.MDCTextField(e)]}))))}static layout(){MDC.selects.forEach((e=>e.layout())),MDC.textFields.forEach((e=>{e.input_&&e.label_?.root_&&(e.input_.value?e.label_.root_.classList.add("mdc-floating-label--float-above"):e.label_.root_.classList.remove("mdc-floating-label--float-above"));try{e.layout()}catch(e){}}))}static resize(){MDC.textFields.forEach((e=>{e.input_.scrollHeight>0&&"TEXTAREA"===e.input_.nodeName.toUpperCase()&&(e.input_.style.height=e.input_.scrollHeight+"px",e.layout())}))}static openSnackbar(e,t=5e3,a="main-snackbar"){[...MDC.snackbars.values()].forEach((e=>e.close()));const c=MDC.snackbars.get(a);c.timeoutMs=t,c.labelText="",c.open(),c.labelText=e}static async openDrawer(e,t,a){const c=MDC.drawers.get("app-drawer"),l="boolean"==typeof t;for(let e=0;e<=1e3;e+=100)if(await Promisify.sleep(e),!c.foundation_.isOpen()){c.root_.classList.contains("drawer-collapsed")||l&&!t?(c.root_.classList.remove("drawer-collapsed"),a["#app-content"].classList.remove("drawer-collapsed"),a["#app-content"].style.marginLeft="200px",a["#drawer-collapsed-app-icon-div"].dataset.display="none",l||Promisify.storageSet({drawerCollapsed:!1})):(c.root_.classList.add("drawer-collapsed"),a["#app-content"].classList.add("drawer-collapsed"),a["#app-content"].style.marginLeft="52px",a["#drawer-collapsed-app-icon-div"].dataset.display="fade-in-transform",l||Promisify.storageSet({drawerCollapsed:!0})),c.foundation_.open(),setTimeout((()=>{MDC.layout()}),100);break}}static closeDrawer(){MDC.drawers.get("app-drawer").foundation_.close()}static addSelectListener(e,t){MDC.selects.get(e).listen("MDCSelect:change",(e=>{clearTimeout(V.timeouts.selectTimeout),V.timeouts.selectTimeout=setTimeout((()=>{t(e)}),100)}))}static setSelectValue(e,t,a=!1){const c=MDC.selects.get(e);c&&(c.value!==t||a)&&(c.value=t)}static getRadioValue(e){const t=[...MDC.radios].find((t=>t[0].startsWith(e)&&t[1].checked));return t&&t[1]?t[1].value:void 0}static setRadioValue(e,t){const a=MDC.radios.get(e+"-"+t+"-radio");a&&(a.checked=!0)}static getChipSetValue(e){return MDC.chipSets.get(e)?.chips.find((e=>e.selected))?.root_.dataset.value}static setChipSetValue(e,t,a=!0){MDC.chipSets.get(a?e+"-chip-set":e).foundation_.select_(a?e+"-"+t+"-chip":t)}}